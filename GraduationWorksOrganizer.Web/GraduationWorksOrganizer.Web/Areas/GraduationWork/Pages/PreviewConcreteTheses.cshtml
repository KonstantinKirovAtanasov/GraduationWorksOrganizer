@page
@model GraduationWorksOrganizer.Web.Areas.GraduationWork.Pages.PreviewConcreteThesesModel
@{
}

<h1>Преглед</h1>
<hr />
<div>
    <h3 class="text-center">@Model.Thesis.Title</h3>
    <h5 class="text-center">@Model.Thesis.TargetSpecialty.Name</h5>

    <p class="font-weight-bold">Описание</p>
    <p class="text-md-left">        @Model.Thesis.Description </p>

    <p class="font-weight-bold">Изисквания</p>
    @foreach (GraduationWorksOrganizer.Web.Areas.GraduationWork.ViewModels.RequermentViewModel requerment in Model.Thesis.Requerments)
    {
        <div class="row">
            <div class="col text-left">
                <text>&#8226;</text>
                <text>@requerment.Description</text>
            </div>
            <div class="col text-right">
                <text>@requerment.MaxPointsCount точки</text>
            </div>
        </div>
    }
    <span />
    <div class="row">
        <div class="col text-left">
            <text>@Model.Thesis.Type</text>
        </div>
        <div class="col text-right">
            <text>@Model.Thesis.CreationDate.ToShortDateString() </text>
        </div>
    </div>
</div>
<hr />
<div>
    @if (Model.Thesis.Status == GraduationWorksOrganizer.Common.Enums.ThesesStatusType.Pending && (User.IsInRole(GraduationWorksOrganizer.Common.Constants.RoleNames.PromotedTeacherRole) || User.IsInRole(GraduationWorksOrganizer.Common.Constants.RoleNames.TeacherRole)))
    {
        <a class="btn btn-primary" asp-area="GraduationWork" asp-page="/BachelorThesesList" asp-route-status="Approve" asp-route-thesisId="@Model.Thesis.Id" method="post">Одобри</a>
        <a class="btn btn-danger" asp-area="GraduationWork" asp-page="/BachelorThesesList" asp-route-status="Reject" asp-route-thesisId="@Model.Thesis.Id" method="post">Отхвърли</a>
    }
    else if (User.IsInRole(GraduationWorksOrganizer.Common.Constants.RoleNames.StudentRole))
    {
        <a class="btn btn-primary" asp-area="GraduationWork" asp-page="/BachelorThesesList">Запиши се за темата</a>
    }
</div>
